<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="CadVision - Sistema de cadastro de produtos por visão computacional">
  <title>CadVision - Identificação de Produtos por IA</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="/assets/css/style.css">

  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon/favicon-16x16.png">
  <link rel="manifest" href="/assets/images/favicon/site.webmanifest">
  <link rel="icon" type="image/x-icon" href="/assets/images/favicon/favicon.ico">

  <meta property="og:title" content="CadVision - Identificação de Produtos por IA">
  <meta property="og:description"
    content="Sistema inteligente para cadastro de produtos através de visão computacional">
  <meta property="og:image" content="/assets/images/og-image.png">
  <meta property="og:url" content="https://cadvision.example.com">
  <meta name="twitter:card" content="summary_large_image">
</head>

<body>
  <div class="app">
    <aside class="sidebar" id="sidebar">
      <div class="brand">
        <div class="logo"></div>
        <div class="title">CadVision</div>
        <div class="subtitle">O SEU CADASTRO VISUAL</div>
      </div>
      <nav class="nav">
        <h6>Geral</h6>
        <a href="#dashboard" class="nav-link"><i class="fas fa-home"></i> Dashboard</a>
        <a href="#identify" class="nav-link active"><i class="fas fa-robot"></i> Identificar</a>

        <h6>Cadastro</h6>
        <a href="#products" class="nav-link"><i class="fas fa-box"></i> Produtos</a>
        <a href="#logs" class="nav-link"><i class="fas fa-clipboard-list"></i> Logs</a>

        <h6>Sistema</h6>
        <a href="#settings" class="nav-link"><i class="fas fa-cog"></i> Configurações</a>
        <a href="#help" class="nav-link"><i class="fas fa-question-circle"></i> Ajuda</a>
      </nav>

      <div class="sidebar-footer">
        <div class="connection-status">
          <i class="fas fa-circle" id="connectionIcon"></i>
          <span id="sidebarConnectionStatus">Conectando...</span>
        </div>
        <div class="version">v1.0.0</div>
      </div>
    </aside>

    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <div class="main-content">
      <main class="main">
        <section id="dashboard" class="page-content">
          <div class="dashboard-header">
            <div>
              <h1 class="h1">Dashboard</h1>

            </div>
            <div class="header-actions">
              <div class="search">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Buscar produtos..." id="searchProductsDashboard"
                  aria-label="Buscar produtos">
              </div>
              <button class="btn btn-secondary btn-sm" id="btnRefreshDashboard" title="Atualizar dados">
                <i class="fas fa-sync-alt"></i>
              </button>
            </div>
          </div>

          <div class="grid grid-4-compact">
            <div class="card kpi-card">
              <div class="icon-wrapper bg-blue">
                <i class="fas fa-box"></i>
              </div>
              <div class="kpi-details">
                <span class="muted">Produtos Cadastrados</span>
                <h3 id="totalProducts">0</h3>
              </div>
            </div>
            <div class="card kpi-card">
              <div class="icon-wrapper bg-teal">
                <i class="fas fa-robot"></i>
              </div>
              <div class="kpi-details">
                <span class="muted">Identificados por IA</span>
                <h3 id="totalAI">0</h3>
              </div>
            </div>
            <div class="card kpi-card">
              <div class="icon-wrapper bg-green">
                <i class="fas fa-check-circle"></i>
              </div>
              <div class="kpi-details">
                <span class="muted">Taxa de Sucesso</span>
                <h3 id="successRate">0%</h3>
              </div>
            </div>
            <div class="card kpi-card">
              <div class="icon-wrapper bg-yellow">
                <i class="fas fa-bolt"></i>
              </div>
              <div class="kpi-details">
                <span class="muted">Tempo Médio</span>
                <h3 id="avgTime">0s</h3>
              </div>
            </div>
          </div>

          <div class="dashboard-charts-grid">
            <div class="card">
              <h2 class="h2">Histórico de Performance (Últimos 30 dias)</h2>
              <div class="chart-container-large">
                <canvas id="performanceChart"></canvas>
              </div>
            </div>

            <div class="right-column-charts">
              <div class="card">
                <h2 class="h2">Produtos por Categoria</h2>
                <div class="chart-container-small">
                  <canvas id="categoryChart"></canvas>
                </div>
              </div>
              <div class="card">
                <h2 class="h2">Cadastros por Dia (Últimos 7 dias)</h2>
                <div class="chart-container-small">
                  <canvas id="productsPerPeriodChart"></canvas>
                </div>
              </div>
            </div>

            <div class="card full-width-card">
              <h2 class="h2">Atividade Recente</h2>
              <div id="recentActivity">
                <ul class="activity-feed-skeleton">
                  <li></li>
                  <li></li>
                  <li></li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <section id="identify" class="page-content">
          <h1 class="h1">Identificar Produto</h1>
          <p class="muted">Selecione o tipo de produto e envie uma imagem para identificação automática.</p>

          <div id="vertical-selector" class="vertical-selector-grid">
            <div class="card vertical-card" id="select-supermercado" data-vertical="supermercado" role="button"
              tabindex="0">
              <i class="fas fa-shopping-cart"></i>
              <h3 class="h3">Supermercado</h3>
              <p class="muted">Alimentos, bebidas, limpeza, etc.</p>
            </div>
            <div class="card vertical-card" id="select-vestuario" data-vertical="vestuario" role="button" tabindex="0">
              <i class="fas fa-tshirt"></i>
              <h3 class="h3">Vestuário & Acessórios</h3>
              <p class="muted">Roupas, calçados, bolsas, etc.</p>
            </div>
          </div>

          <div id="identification-workflow" class="grid identify-grid" style="display: none;">
            <div class="card">
              <div class="workflow-header">
                <h2 class="h2">1. Enviar Imagens</h2>
                <button id="btnBackToVertical" class="btn btn-secondary btn-sm"><i class="fas fa-arrow-left"></i> Trocar
                  Vertical</button>
              </div>

              <div id="clothingUploadContainer" style="display: none;">
                <div class="form-group">
                  <label>1. Foto da Etiqueta (para extrair dados)</label>
                  <div class="upload-area" id="dropAreaTag" role="button" tabindex="0">
                    <i class="fas fa-tag"></i>
                    <p>Clique ou arraste a foto da <strong>etiqueta</strong></p>
                  </div>
                  <input type="file" id="fileInputTag" accept="image/*" hidden>
                  <img id="tagImagePreview" class="thumb" alt="Preview da etiqueta">
                  <div class="upload-info-small" id="uploadStatusTag"></div>
                </div>
                <div class="form-group">
                  <label>2. Foto do Produto (para reconhecimento visual)</label>
                  <div class="upload-area" id="dropAreaProduct" role="button" tabindex="0">
                    <i class="fas fa-tshirt"></i>
                    <p>Clique ou arraste a foto do <strong>produto inteiro</strong></p>
                  </div>
                  <input type="file" id="fileInputProduct" accept="image/*" hidden>
                  <img id="productImagePreview" class="thumb" alt="Preview do produto">
                  <div class="upload-info-small" id="uploadStatusProduct"></div>
                </div>
              </div>

              <div id="supermarketUploadContainer" style="display: block;">
                <div class="upload-area" id="dropArea" role="button" tabindex="0">
                  <i class="fas fa-cloud-upload-alt"></i>
                  <p>Arraste uma imagem aqui ou clique para selecionar</p>
                </div>
                <input type="file" id="fileInput" accept="image/*" hidden>
                <div class="upload-info" id="uploadStatus" style="margin-top: 10px;">Aguardando imagem...</div>
              </div>

              <div class="upload-info">
                <div class="chip info" id="aiStatus" style="flex-grow: 1; justify-content: center; margin-top: 10px;"><i
                    class="fas fa-info-circle"></i> Aguardando análise</div>
              </div>

              <div class="btn-row">
                <button id="btnIdentify" class="btn btn-primary" disabled><i class="fas fa-robot"></i>
                  Identificar</button>
                <button id="btnRemoveImage" class="btn btn-secondary" style="display: none;"><i
                    class="fas fa-trash"></i> Limpar Imagens</button>
              </div>
            </div>

            <div class="card">
              <h2 class="h2">2. Detalhes do Produto</h2>
              <p class="muted">Revise e complete as informações do produto identificado.</p>

              <form id="productFormSupermarket" class="product-form" style="display: none;">
                <div class="form-group"><label for="productNameSupermarket">Nome do Produto *</label><input type="text"
                    id="productNameSupermarket" required></div>
                <div class="form-group"><label for="productBrandSupermarket">Marca</label><input type="text"
                    id="productBrandSupermarket"></div>
                <div class="form-group">
                  <label for="productSkuSupermarket">SKU (Ref.)</label>
                  <input type="text" id="productSkuSupermarket" placeholder="Código interno do produto">
                </div>
                <div class="grid grid-3">
                  <div class="form-group">
                    <label for="productDepartmentSupermarket">Departamento</label>
                    <input type="text" id="productDepartmentSupermarket" placeholder="Ex: Mercearia">
                  </div>
                  <div class="form-group">
                    <label for="productCategorySupermarket">Categoria</label>
                    <select id="productCategorySupermarket">
                      <option value="">Selecione...</option>
                      <option value="Alimentos">Alimentos</option>
                      <option value="Bebidas">Bebidas</option>
                      <option value="Limpeza">Limpeza</option>
                      <option value="Higiene">Higiene</option>
                      <option value="Outros">Outros</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="productSubcategorySupermarket">Subcategoria</label>
                    <input type="text" id="productSubcategorySupermarket" placeholder="Ex: Arroz Agulhinha">
                  </div>
                </div>
                <div class="form-group"><label for="productGTINSupermarket">GTIN/EAN</label><input type="text"
                    id="productGTINSupermarket" pattern="[0-9]*"></div>
                <div class="grid grid-2">
                  <div class="form-group"><label for="productNCMSupermarket">NCM</label><input type="text"
                      id="productNCMSupermarket"></div>
                  <div class="form-group"><label for="productCESTSupermarket">CEST</label><input type="text"
                      id="productCESTSupermarket"></div>
                </div>
                <div class="form-group"><label for="productPriceSupermarket">Preço (R$)</label><input type="number"
                    step="0.01" min="0" id="productPriceSupermarket"></div>
                <div class="sticky-actions">
                  <div class="btn-row"><button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Salvar
                      Produto</button><button type="reset" class="btn btn-secondary"><i class="fas fa-times"></i>
                      Limpar</button></div>
                </div>
              </form>

              <form id="productFormClothing" class="product-form" style="display: none;">
                <div class="form-group"><label for="productNameClothing">Nome do Produto *</label><input type="text"
                    id="productNameClothing" required></div>
                <div class="form-group"><label for="productBrandClothing">Marca</label><input type="text"
                    id="productBrandClothing"></div>
                <div class="form-group">
                  <label for="productSkuClothing">SKU (Ref.)</label>
                  <input type="text" id="productSkuClothing" placeholder="Código único da peça">
                </div>
                <div class="grid grid-3">
                  <div class="form-group">
                    <label for="productDepartmentClothing">Departamento</label>
                    <input type="text" id="productDepartmentClothing" placeholder="Ex: Masculino">
                  </div>
                  <div class="form-group">
                    <label for="productCategoryClothing">Categoria</label>
                    <select id="productCategoryClothing">
                      <option value="">Selecione...</option>
                      <option value="Roupas">Roupas</option>
                      <option value="Calçados">Calçados</option>
                      <option value="Acessórios">Acessórios</option>
                      <option value="Outros">Outros</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="productSubcategoryClothing">Subcategoria</label>
                    <input type="text" id="productSubcategoryClothing" placeholder="Ex: Camisa Polo">
                  </div>
                </div>
                <div class="grid grid-2">
                  <div class="form-group"><label for="productSizeClothing">Tamanho</label><input type="text"
                      id="productSizeClothing" placeholder="Ex: M, 42"></div>
                  <div class="form-group"><label for="productColorClothing">Cor</label><input type="text"
                      id="productColorClothing" placeholder="Ex: Azul Marinho"></div>
                </div>
                <div class="grid grid-2">
                  <div class="form-group"><label for="productFabricClothing">Material/Tecido</label><input type="text"
                      id="productFabricClothing" placeholder="Ex: Algodão"></div>
                  <div class="form-group"><label for="productGenderClothing">Gênero</label><select
                      id="productGenderClothing">
                      <option value="">Selecione...</option>
                      <option value="Masculino">Masculino</option>
                      <option value="Feminino">Feminino</option>
                      <option value="Unissex">Unissex</option>
                    </select></div>
                </div>
                <div class="form-group"><label for="productPriceClothing">Preço (R$)</label><input type="number"
                    step="0.01" min="0" id="productPriceClothing"></div>
                <div class="sticky-actions">
                  <div class="btn-row"><button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Salvar
                      Produto</button><button type="reset" class="btn btn-secondary"><i class="fas fa-times"></i>
                      Limpar</button></div>
                </div>
              </form>

              <div id="form-placeholder" class="text-center muted" style="padding: 40px 0;">
                <i class="fas fa-tasks" style="font-size: 32px; margin-bottom: 15px;"></i>
                <p>Selecione uma vertical para ver o formulário de cadastro.</p>
              </div>
            </div>
          </div>
        </section>

        <section id="products" class="page-content" style="display: none;">
          <div class="section-header">
            <h1 class="h1">Produtos Cadastrados</h1>
            <div class="header-actions">
              <div class="dropdown-container" id="exportContainer">
                <button class="btn btn-secondary" id="btnExport">
                  <i class="fas fa-download"></i>
                  <span>Exportar</span>
                  <i class="fas fa-chevron-down arrow"></i>
                </button>
                <div class="dropdown-menu" id="exportMenu">
                  <a href="#" class="dropdown-item" data-format="csv">
                    <i class="fas fa-file-csv"></i> Exportar como CSV
                  </a>
                  <a href="#" class="dropdown-item" data-format="excel">
                    <i class="fas fa-file-excel"></i> Exportar como Excel (.xlsx)
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="filters card">
            <div class="grid grid-3">
              <div class="form-group">
                <label for="filterCategory">Filtrar por categoria</label>
                <select id="filterCategory">
                  <option value="">Todas categorias</option>
                  <option value="Alimentos">Alimentos</option>
                  <option value="Bebidas">Bebidas</option>
                  <option value="Limpeza">Limpeza</option>
                  <option value="Higiene">Higiene</option>
                  <option value="Eletrônicos">Eletrônicos</option>
                </select>
              </div>
              <div class="form-group">
                <label for="filterBrand">Filtrar por marca</label>
                <input type="text" id="filterBrand" placeholder="Digite a marca">
              </div>
              <div class="form-group">
                <label for="filterSort">Ordenar por</label>
                <select id="filterSort">
                  <option value="newest">Mais recentes</option>
                  <option value="oldest">Mais antigos</option>
                  <option value="name">Nome (A-Z)</option>
                  <option value="name_desc">Nome (Z-A)</option>
                  <option value="price">Preço (menor-maior)</option>
                  <option value="price_desc">Preço (maior-menor)</option>
                </select>
              </div>
            </div>
          </div>

          <div class="filters card">
            <div class="grid grid-2">
              <div class="form-group">
                <label for="filterStartDate">Filtrar por data inicial</label>
                <input type="date" id="filterStartDate">
              </div>
              <div class="form-group">
                <label for="filterEndDate">Filtrar por data final</label>
                <input type="date" id="filterEndDate">
              </div>
            </div>
          </div>

          <div id="productsContainer">
            <div class="card text-center muted">
              <i class="fas fa-spinner fa-spin"></i> Carregando produtos...
            </div>
          </div>

          <div class="pagination" id="productsPagination" style="display: none;">
            <button class="btn btn-secondary" id="btnPrevPage">
              <i class="fas fa-chevron-left"></i> Anterior
            </button>
            <span class="pagination-info" id="paginationInfo">Página 1 de 1</span>
            <button class="btn btn-secondary" id="btnNextPage">
              Próxima <i class="fas fa-chevron-right"></i>
            </button>
          </div>
        </section>

        <section id="logs" class="page-content" style="display: none;">
          <div class="section-header">
            <h1 class="h1">Logs do Sistema</h1>
            <div class="header-actions">
              <button class="btn btn-secondary" id="btnClearLogs">
                <i class="fas fa-trash"></i> Limpar Logs
              </button>
              <button class="btn btn-secondary" id="btnExportLogs">
                <i class="fas fa-download"></i> Exportar
              </button>
            </div>
          </div>

          <div class="card">
            <div class="logs-header">
              <div class="chip">
                <i class="fas fa-info-circle"></i>
                <span>Últimas atividades do sistema</span>
              </div>
              <div class="logs-actions">
                <div class="form-group" style="margin-bottom: 0;">
                  <label for="logLevelFilter">Filtrar por nível</label>
                  <select id="logLevelFilter">
                    <option value="all">Todos</option>
                    <option value="info">Info</option>
                    <option value="success">Sucesso</option>
                    <option value="error">Erro</option>
                    <option value="warning">Aviso</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="mono" id="logsContent" style="max-height: 500px; overflow-y: auto;">
              [00:00:00] INFO: Sistema inicializado
            </div>
          </div>
        </section>

        <section id="settings" class="page-content" style="display: none;">
          <h1 class="h1">Configurações</h1>
          <p class="muted">Configure as preferências do sistema e conexão com a API.</p>

          <div class="grid grid-2">
            <div class="card">
              <h2 class="h2">Conexão com API</h2>

              <div class="form-group">
                <label for="apiUrl">URL da API</label>
                <input type="url" id="apiUrl" placeholder="http://localhost:8000/api/v1">
                <small class="muted">URL completa do endpoint da API</small>
              </div>

              <div class="form-group">
                <label for="apiTimeout">Timeout da API (segundos)</label>
                <input type="number" id="apiTimeout" value="30" min="5" max="120">
              </div>

              <div class="btn-row">
                <button class="btn btn-primary" id="btnSaveSettings">
                  <i class="fas fa-save"></i> Salvar Configurações
                </button>
                <button class="btn btn-secondary" id="btnTestConnection">
                  <i class="fas fa-bolt"></i> Testar Conexão
                </button>
              </div>
            </div>

            <div class="card">
              <h2 class="h2">Preferências</h2>

              <div class="form-group">
                <label for="autoSave">Salvamento automático</label>
                <select id="autoSave">
                  <option value="true">Ativado</option>
                  <option value="false">Desativado</option>
                </select>
              </div>

              <div class="form-group">
                <label for="maxFileSize">Tamanho máximo de arquivo (MB)</label>
                <input type="number" id="maxFileSize" value="10" min="1" max="50">
              </div>

              <div class="form-group">
                <label for="theme">Tema de interface</label>
                <select id="theme">
                  <option value="light">Claro</option>
                  <option value="dark">Escuro</option>
                  <option value="auto">Automático (segue o sistema)</option>
                </select>
              </div>
            </div>
          </div>
        </section>

        <section id="help" class="page-content" style="display: none;">
          <h1 class="h1">Ajuda & Suporte</h1>
          <p class="muted">Encontre respostas para dúvidas comuns e informações sobre o sistema.</p>

          <div class="grid grid-2">
            <div class="card">
              <h2 class="h2">Como Usar</h2>

              <div class="accordion">
                <div class="accordion-item">
                  <button class="accordion-header">
                    <i class="fas fa-question-circle"></i>
                    Como identificar um produto?
                    <i class="fas fa-chevron-down"></i>
                  </button>
                  <div class="accordion-content">
                    <p>Para identificar um produto, navegue até a aba "Identificar", faça upload de uma imagem
                      clara do produto e clique em "Identificar". O sistema analisará a imagem e preencherá
                      automaticamente as informações do produto.</p>
                  </div>
                </div>

                <div class="accordion-item">
                  <button class="accordion-header">
                    <i class="fas fa-question-circle"></i>
                    Quais formatos de imagem são suportados?
                    <i class="fas fa-chevron-down"></i>
                  </button>
                  <div class="accordion-content">
                    <p>O sistema suporta os formatos JPG, PNG e WebP. O tamanho máximo do arquivo é 10MB.</p>
                  </div>
                </div>

                <div class="accordion-item">
                  <button class="accordion-header">
                    <i class="fas fa-question-circle"></i>
                    Como editar um produto cadastrado?
                    <i class="fas fa-chevron-down"></i>
                  </button>
                  <div class="accordion-content">
                    <p>Na tela de "Produtos", clique no ícone de lápis (<i class="fas fa-pencil-alt"></i>) ao lado do
                      produto que deseja editar para abrir o formulário de edição.</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="card">
              <h2 class="h2">Suporte Técnico</h2>

              <div class="support-info">
                <div class="support-item">
                  <i class="fas fa-book"></i>
                  <div>
                    <h3>Documentação</h3>
                    <p class="muted">Consulte o manual completo do usuário (Em breve)</p>
                  </div>
                </div>

                <div class="support-item">
                  <i class="fas fa-envelope"></i>
                  <div>
                    <h3>E-mail de Suporte</h3>
                    <p class="muted">suportecadvision@gmail.com</p>
                  </div>
                </div>
              </div>

              <div class="btn-row">
                <button class="btn btn-primary" disabled>
                  <i class="fas fa-download"></i> Baixar Manual (Em breve)
                </button>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <div id="notification-container"></div>

  <div class="modal-overlay" id="confirmOverlay" style="display: none;">
    <div class="modal-content" id="confirmModal">
      <div class="modal-header">
        <i class="fas fa-exclamation-triangle"></i>
        <h3 id="confirmTitle">Confirmar Ação</h3>
      </div>
      <div class="modal-body">
        <p id="confirmMessage">Você tem certeza que deseja continuar?</p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="confirmCancel">Cancelar</button>
        <button class="btn btn-danger" id="confirmOk">Confirmar</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="editOverlay" style="display: none;">
    <div class="modal-content" id="editModal">
      <div class="modal-header">
        <i class="fas fa-pencil-alt"></i>
        <h3>Editar Produto</h3>
      </div>
      <div class="modal-body">
        <form id="editProductForm"></form>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="cameraOverlay" style="display: none;">
    <div class="modal-content" id="cameraModal">
      <div class="modal-header">
        <i class="fas fa-camera"></i>
        <h3>Capturar Imagem</h3>
      </div>
      <div class="modal-body" style="padding: 0; text-align: center;">
        <video id="cameraFeed" style="width: 100%; border-radius: 4px;" autoplay playsinline></video>
        <canvas id="cameraCanvas" style="display: none;"></canvas>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="cameraCancel">Cancelar</button>
        <button class="btn btn-primary" id="cameraSnap">Tirar Foto</button>
      </div>
    </div>
  </div>

  <script src="/assets/js/script.js"></script>
</body>

</html>