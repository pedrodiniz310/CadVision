2025-09-23 16:28:24 - root - INFO - [logging_config.py:51] - Logging configurado. Arquivo: C:\Users\Pedro Diniz\Documents\CadVision\CadVision_app\backend\logs\cadvision_20250923_162820.log
2025-09-23 16:28:24 - app - INFO - [logging_config.py:68] - EVENT: startup - DATA: {'timestamp': '2025-09-23T16:28:24.937102', 'service': 'app', 'event': 'startup', 'data': {'version': '1.1.0'}}
2025-09-23 16:28:24 - app.database - INFO - [database.py:175] - Banco de dados inicializado com sucesso (com novo schema).
2025-09-23 16:28:24 - app - INFO - [logging_config.py:68] - EVENT: database_initialized - DATA: {'timestamp': '2025-09-23T16:28:24.940120', 'service': 'app', 'event': 'database_initialized', 'data': {}}
2025-09-23 16:28:34 - vision/identify - INFO - [logging_config.py:68] - EVENT: process_started - DATA: {'timestamp': '2025-09-23T16:28:34.252486', 'service': 'vision/identify', 'event': 'process_started', 'data': {'vertical': 'supermercado', 'tag_image': 'Imagem do WhatsApp de 2025-09-17 √†(s) 18.48.26_20d1bdb5.jpg', 'product_image': None}}
2025-09-23 16:28:34 - vision/identify - INFO - [logging_config.py:68] - EVENT: text_extraction_start - DATA: {'timestamp': '2025-09-23T16:28:34.252486', 'service': 'vision/identify', 'event': 'text_extraction_start', 'data': {'hash': 'e909fe0f6cb4c1043e03c0e2d2763f0d'}}
2025-09-23 16:28:36 - app.services.vision_service - INFO - [vision_service.py:146] - Vision API: Texto extra√≠do (15 chars), Logos: 0, Labels: 5
2025-09-23 16:28:36 - vision/identify - INFO - [logging_config.py:68] - EVENT: intelligent_analysis_start - DATA: {'timestamp': '2025-09-23T16:28:36.504426', 'service': 'vision/identify', 'event': 'intelligent_analysis_start', 'data': {'vertical': 'supermercado'}}
2025-09-23 16:28:36 - product_analysis - INFO - [logging_config.py:68] - EVENT: pipeline_started - DATA: {'timestamp': '2025-09-23T16:28:36.505427', 'service': 'product_analysis', 'event': 'pipeline_started', 'data': {'vertical': 'supermercado'}}
2025-09-23 16:28:36 - product_analysis - INFO - [logging_config.py:68] - EVENT: attempting_strategy - DATA: {'timestamp': '2025-09-23T16:28:36.505427', 'service': 'product_analysis', 'event': 'attempting_strategy', 'data': {'strategy': 'AI_INFERENCE'}}
2025-09-23 16:28:36 - advanced_inference - INFO - [logging_config.py:68] - EVENT: processing_started - DATA: {'timestamp': '2025-09-23T16:28:36.505427', 'service': 'advanced_inference', 'event': 'processing_started', 'data': {'vertical': 'supermercado'}}
2025-09-23 16:28:36 - app.services.advanced_inference_service - INFO - [advanced_inference_service.py:38] - Inicializando o modelo GenerativeModel (gemini-1.5-pro-latest)...
2025-09-23 16:28:36 - app.services.advanced_inference_service - INFO - [advanced_inference_service.py:41] - Modelo GenerativeModel inicializado com sucesso.
2025-09-23 16:28:38 - advanced_inference - INFO - [logging_config.py:68] - EVENT: processing_completed - DATA: {'timestamp': '2025-09-23T16:28:38.271236', 'service': 'advanced_inference', 'event': 'processing_completed', 'data': {'title': 'Produto N√£o Identificado', 'gtin': '7891340365576', 'processing_time': 1.77}}
2025-09-23 16:28:38 - product_analysis - INFO - [logging_config.py:68] - EVENT: attempting_strategy - DATA: {'timestamp': '2025-09-23T16:28:38.271236', 'service': 'product_analysis', 'event': 'attempting_strategy', 'data': {'strategy': 'GTIN_LOOKUP'}}
2025-09-23 16:28:54 - app.services.cosmos_service - ERROR - [cosmos_service.py:78] - Erro na requisi√ß√£o ao Cosmos: HTTPSConnectionPool(host='api.cosmos.bluesoft.com.br', port=443): Read timed out. (read timeout=15)
2025-09-23 16:28:54 - product_analysis - INFO - [logging_config.py:68] - EVENT: pipeline_completed - DATA: {'timestamp': '2025-09-23T16:28:54.382737', 'service': 'product_analysis', 'event': 'pipeline_completed', 'data': {'source_strategy': 'AI_INFERENCE', 'processing_time_seconds': 17.88, 'processed_at': '2025-09-23T16:28:54.382737', 'confidence': 0.85}}
2025-09-23 16:29:13 - vision/identify - INFO - [logging_config.py:68] - EVENT: process_started - DATA: {'timestamp': '2025-09-23T16:29:13.672410', 'service': 'vision/identify', 'event': 'process_started', 'data': {'vertical': 'supermercado', 'tag_image': 'arroz2.png', 'product_image': None}}
2025-09-23 16:29:13 - vision/identify - INFO - [logging_config.py:68] - EVENT: text_extraction_start - DATA: {'timestamp': '2025-09-23T16:29:13.673393', 'service': 'vision/identify', 'event': 'text_extraction_start', 'data': {'hash': '44a30420041f34c214d9152407d5491a'}}
2025-09-23 16:29:15 - app.services.vision_service - INFO - [vision_service.py:146] - Vision API: Texto extra√≠do (238 chars), Logos: 0, Labels: 8
2025-09-23 16:29:15 - vision/identify - INFO - [logging_config.py:68] - EVENT: intelligent_analysis_start - DATA: {'timestamp': '2025-09-23T16:29:15.823664', 'service': 'vision/identify', 'event': 'intelligent_analysis_start', 'data': {'vertical': 'supermercado'}}
2025-09-23 16:29:15 - product_analysis - INFO - [logging_config.py:68] - EVENT: pipeline_started - DATA: {'timestamp': '2025-09-23T16:29:15.823664', 'service': 'product_analysis', 'event': 'pipeline_started', 'data': {'vertical': 'supermercado'}}
2025-09-23 16:29:15 - product_analysis - INFO - [logging_config.py:68] - EVENT: attempting_strategy - DATA: {'timestamp': '2025-09-23T16:29:15.824664', 'service': 'product_analysis', 'event': 'attempting_strategy', 'data': {'strategy': 'AI_INFERENCE'}}
2025-09-23 16:29:15 - advanced_inference - INFO - [logging_config.py:68] - EVENT: processing_started - DATA: {'timestamp': '2025-09-23T16:29:15.824664', 'service': 'advanced_inference', 'event': 'processing_started', 'data': {'vertical': 'supermercado'}}
2025-09-23 16:29:17 - advanced_inference - INFO - [logging_config.py:68] - EVENT: processing_completed - DATA: {'timestamp': '2025-09-23T16:29:17.409231', 'service': 'advanced_inference', 'event': 'processing_completed', 'data': {'title': 'Arroz Tipo 1 1Kg', 'gtin': '7896006700108', 'processing_time': 1.58}}
2025-09-23 16:29:17 - product_analysis - INFO - [logging_config.py:68] - EVENT: pipeline_completed - DATA: {'timestamp': '2025-09-23T16:29:17.410230', 'service': 'product_analysis', 'event': 'pipeline_completed', 'data': {'source_strategy': 'AI_INFERENCE', 'processing_time_seconds': 1.59, 'processed_at': '2025-09-23T16:29:17.410230', 'confidence': 0.85}}
2025-09-23 16:29:24 - app.database - INFO - [database.py:196] - Tentativa de inserir produto com dados: {'vertical': 'supermercado', 'confidence': 0.85, 'image_hash': '44a30420041f34c214d9152407d5491a', 'sku': None, 'title': 'Arroz Tipo 1 1Kg', 'brand': 'Tio Jo√£o', 'gtin': '7896006700108', 'department': 'Mercearia', 'category': None, 'subcategory': 'Arroz Branco', 'ncm': '1006.30.21', 'cest': None, 'price': None}
2025-09-23 16:29:24 - app.database - INFO - [database.py:234] - Produto ID 3 (Vertical: supermercado) salvo com sucesso.
2025-09-23 16:29:30 - vision/identify - INFO - [logging_config.py:68] - EVENT: process_started - DATA: {'timestamp': '2025-09-23T16:29:30.792519', 'service': 'vision/identify', 'event': 'process_started', 'data': {'vertical': 'supermercado', 'tag_image': 'Imagem do WhatsApp de 2025-09-18 √†(s) 17.35.31_43df112f.jpg', 'product_image': None}}
2025-09-23 16:29:30 - vision/identify - INFO - [logging_config.py:68] - EVENT: text_extraction_start - DATA: {'timestamp': '2025-09-23T16:29:30.792519', 'service': 'vision/identify', 'event': 'text_extraction_start', 'data': {'hash': '9bb1516d4f8c2209c62d366630cfc6bb'}}
2025-09-23 16:29:32 - app.services.vision_service - INFO - [vision_service.py:146] - Vision API: Texto extra√≠do (87 chars), Logos: 0, Labels: 8
2025-09-23 16:29:32 - vision/identify - INFO - [logging_config.py:68] - EVENT: intelligent_analysis_start - DATA: {'timestamp': '2025-09-23T16:29:32.869138', 'service': 'vision/identify', 'event': 'intelligent_analysis_start', 'data': {'vertical': 'supermercado'}}
2025-09-23 16:29:32 - product_analysis - INFO - [logging_config.py:68] - EVENT: pipeline_started - DATA: {'timestamp': '2025-09-23T16:29:32.869138', 'service': 'product_analysis', 'event': 'pipeline_started', 'data': {'vertical': 'supermercado'}}
2025-09-23 16:29:32 - product_analysis - INFO - [logging_config.py:68] - EVENT: attempting_strategy - DATA: {'timestamp': '2025-09-23T16:29:32.870154', 'service': 'product_analysis', 'event': 'attempting_strategy', 'data': {'strategy': 'AI_INFERENCE'}}
2025-09-23 16:29:32 - advanced_inference - INFO - [logging_config.py:68] - EVENT: processing_started - DATA: {'timestamp': '2025-09-23T16:29:32.870154', 'service': 'advanced_inference', 'event': 'processing_started', 'data': {'vertical': 'supermercado'}}
2025-09-23 16:29:34 - advanced_inference - INFO - [logging_config.py:68] - EVENT: processing_completed - DATA: {'timestamp': '2025-09-23T16:29:34.369244', 'service': 'advanced_inference', 'event': 'processing_completed', 'data': {'title': 'Produto N√£o Identificado', 'gtin': '7896022200534', 'processing_time': 1.5}}
2025-09-23 16:29:34 - product_analysis - INFO - [logging_config.py:68] - EVENT: attempting_strategy - DATA: {'timestamp': '2025-09-23T16:29:34.370240', 'service': 'product_analysis', 'event': 'attempting_strategy', 'data': {'strategy': 'GTIN_LOOKUP'}}
2025-09-23 16:29:38 - app.services.cosmos_service - INFO - [cosmos_service.py:72] - üì¶ Dados formatados do Cosmos: {'gtin': '7896022200534', 'title': 'MACARR√ÉO DE S√äMOLA PARAFUSO GALO PACOTE 500G', 'brand': 'SELMI', 'category': '', 'ncm': '19021900', 'cest': '', 'confidence': 0.99, 'vertical': 'supermercado'}
2025-09-23 16:29:38 - product_analysis - INFO - [logging_config.py:68] - EVENT: pipeline_completed - DATA: {'timestamp': '2025-09-23T16:29:38.964805', 'service': 'product_analysis', 'event': 'pipeline_completed', 'data': {'source_strategy': 'GTIN_LOOKUP_MERGED', 'processing_time_seconds': 6.1, 'processed_at': '2025-09-23T16:29:38.964805', 'confidence': 0.99}}
2025-09-23 16:29:43 - app.database - INFO - [database.py:196] - Tentativa de inserir produto com dados: {'vertical': 'supermercado', 'confidence': 0.99, 'image_hash': '9bb1516d4f8c2209c62d366630cfc6bb', 'sku': None, 'title': 'Macarr√£o De S√™mola Parafuso Galo Pacote 500G', 'brand': 'SELMI', 'gtin': '7896022200534', 'department': None, 'category': 'Alimentos', 'subcategory': None, 'ncm': '19021900', 'cest': None, 'price': None}
2025-09-23 16:29:43 - app.database - INFO - [database.py:234] - Produto ID 4 (Vertical: supermercado) salvo com sucesso.
2025-09-23 16:30:17 - app - INFO - [logging_config.py:68] - EVENT: shutdown - DATA: {'timestamp': '2025-09-23T16:30:17.858647', 'service': 'app', 'event': 'shutdown', 'data': {}}
2025-09-23 16:30:17 - main - INFO - [main.py:48] - Encerrando aplica√ß√£o CadVision API.
