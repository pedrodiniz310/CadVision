<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CadVision - Sistema Completo</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="stylesheet" href="/style.css">
</head>

<body>
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="brand">
        <div class="logo"></div>
        <div class="subtitle">O SEU CADASTRO VISUAL</div>
      </div>
      <nav class="nav">
        <h6>Geral</h6>
        <a href="#dashboard" class="nav-link active"><i class="fas fa-home"></i> Visão Geral</a>
        <a href="#identify" class="nav-link"><i class="fas fa-robot"></i> Identificar por IA</a>

        <h6>Cadastro</h6>
        <a href="#products" class="nav-link"><i class="fas fa-box"></i> Produtos</a>
        <a href="#admin" class="nav-link"><i class="fas fa-user-cog"></i> ADMIN</a>
        <a href="#logs" class="nav-link"><i class="fas fa-clipboard-list"></i> Logs</a>
        <a href="#settings" class="nav-link"><i class="fas fa-cog"></i> Configurações</a>
      </nav>
    </aside>

    <!-- Overlay para mobile -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Main Content -->
    <main class="main">
      <header class="topbar">
        <div class="wrap">
          <button class="side-toggle" id="btnMenu">
            <i class="fas fa-bars"></i>
          </button>
          <div class="search">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="Buscar produtos..." id="searchInput">
          </div>
          <div class="chip">
            <i class="fas fa-wifi"></i>
            <span id="connectionStatus">Conectado</span>
          </div>
        </div>
      </header>

      <div class="content">
        <!-- Página de Visão Geral -->
        <section id="dashboard" class="page-content active">
          <h1 class="h1">Visão Geral</h1>
          <p class="muted">Dashboard de acompanhamento do sistema CadVision.</p>

          <div class="grid grid-2">
            <div class="card">
              <h2 class="h2">Estatísticas</h2>
              <p class="muted">Resumo do seu cadastro de produtos.</p>
              <div class="muted" style="margin-top: 20px;">
                <i class="fas fa-box" style="color: var(--primary); margin-right: 10px;"></i>
                <span>Total de produtos: <strong id="totalProducts">0</strong></span>
              </div>
              <div class="muted" style="margin-top: 10px;">
                <i class="fas fa-robot" style="color: var(--primary); margin-right: 10px;"></i>
                <span>Identificações por IA: <strong id="totalAI">0</strong></span>
              </div>
            </div>

            <div class="card">
              <h2 class="h2">Últimas Atividades</h2>
              <p class="muted">Eventos recentes no sistema.</p>
              <div id="recentActivities" class="muted" style="margin-top: 15px;">
                <p>Nenhuma atividade recente.</p>
              </div>
            </div>
          </div>
        </section>

        <!-- Página de Identificação por IA -->
        <section id="identify" class="page-content">
          <h1 class="h1">Identificar Produto por IA</h1>
          <p class="muted">Faça upload de uma imagem para identificar automaticamente o produto</p>

          <div class="grid grid-2">
            <div class="card">
              <h2 class="h2">Enviar Imagem</h2>
              <div class="drop" id="dropArea">
                <i class="fas fa-cloud-upload-alt"></i>
                <p>Arraste uma imagem aqui ou clique para selecionar</p>
                <small class="muted">Use a câmera traseira para melhor qualidade</small>
              </div>
              <input type="file" id="fileInput" accept="image/*" hidden>

              <div class="btn-row">
                <button class="secondary" onclick="document.getElementById('fileInput').click()">
                  <i class="fas fa-upload"></i> Selecionar da Galeria
                </button>
                <button class="secondary" id="btnCamera">
                  <i class="fas fa-camera"></i> Tirar Foto
                </button>
              </div>

              <img id="imagePreview" class="thumb" alt="Preview">

              <div class="muted" style="margin-top: 10px;" id="uploadStatus">
                Aguardando imagem...
              </div>

              <div class="btn-row" style="margin-top: 15px;">
                <button id="btnIdentify" disabled>
                  <i class="fas fa-robot"></i> Identificar com IA
                </button>
                <button id="btnRemoveImage" class="danger" style="display: none;">
                  <i class="fas fa-trash"></i> Remover Imagem
                </button>
              </div>

              <div class="card">
                <h2 class="h2">Detalhes do Produto</h2>
                <div class="chip" id="aiStatus">
                  <i class="fas fa-clock"></i> Aguardando análise
                </div>

                <form id="productForm">
                  <label for="productName">Nome do Produto *</label>
                  <input type="text" id="productName" placeholder="Ex: Arroz Integral Tipo 1" required>

                  <label for="productBrand">Marca *</label>
                  <input type="text" id="productBrand" placeholder="Ex: Tio João" required>

                  <label for="productGTIN">GTIN/EAN</label>
                  <input type="text" id="productGTIN" placeholder="Ex: 7891000315507" pattern="[0-9]{13}"
                    maxlength="13">

                  <label for="productCategory">Categoria *</label>
                  <select id="productCategory" required>
                    <option value="">Selecione uma categoria</option>
                    <option value="Alimentos">Alimentos</option>
                    <option value="Bebidas">Bebidas</option>
                    <option value="Limpeza">Limpeza</option>
                    <option value="Higiene Pessoal">Higiene Pessoal</option>
                    <option value="Outros">Outros</option>
                  </select>

                  <label for="productPrice">Preço (R$) *</label>
                  <input type="number" step="0.01" min="0" id="productPrice" placeholder="Ex: 12.90" required>

                  <label for="productDescription">Descrição</label>
                  <textarea id="productDescription" rows="3" placeholder="Descrição detalhada do produto"></textarea>

                  <div class="btn-row">
                    <button type="submit">
                      <i class="fas fa-save"></i> Salvar Produto
                    </button>
                    <button type="button" class="secondary" id="reprocessButton" disabled>
                      <i class="fas fa-sync"></i> Reprocessar
                    </button>
                  </div>
                </form>
              </div>
            </div>
        </section>

        <!-- Outras páginas seriam implementadas de forma similar -->
        <section id="products" class="page-content">
          <h1 class="h1">Produtos Cadastrados</h1>
          <p class="muted">Lista de todos os produtos cadastrados no sistema.</p>
          <div id="productsContainer"></div>
        </section>

        <section id="logs" class="page-content">
          <h1 class="h1">Logs do Sistema</h1>
          <p class="muted">Registro de atividades e eventos.</p>
          <div class="card">
            <div class="mono" id="logsContent">
              Sistema inicializado. Aguardando atividades...
            </div>
          </div>
        </section>

        <section id="settings" class="page-content">
          <h1 class="h1">Configurações</h1>
          <p class="muted">Configure as preferências do sistema.</p>
          <div class="card">
            <label for="apiUrl">URL da API</label>
            <input type="text" id="apiUrl" placeholder="http://localhost:8000" value="http://localhost:8000">

            <div class="btn-row" style="margin-top: 15px;">
              <button id="btnSaveSettings">
                <i class="fas fa-save"></i> Salvar Configurações
              </button>
            </div>
          </div>
        </section>
      </div>
    </main>
  </div>

  <script src="script.js"></script>
</body>

</html>